{"version":3,"file":"svg-library.min.js","sources":["../src/Triangulation.ts","../src/Utils.ts","../src/Circle.ts","../src/Canvas.ts","../src/RealPoint.ts","../src/ConvexHull.ts","../src/Edge.ts","../src/KDTree.ts","../src/Voronoi.ts","../src/index.ts"],"sourcesContent":["import { Canvas, Point } from \"./Canvas\";\nimport { Utils } from \"./Utils\";\nimport { RealPoint } from \"./RealPoint\";\nimport { Edge } from \"./Edge\";\n\nexport class Triangulation {\n  canvas: Canvas;\n\n  constructor(canvas: Canvas) {\n    this.canvas = canvas;\n  }\n\n  /**\n   * Creates triangulation using sweeping line algorithm\n   */\n  public async SweepingLine(): Promise<SVGLineElement[]> {\n    const polygon = this.canvas.getPolygon();\n    if (polygon == null || polygon.points.length == 0) {\n      alert(\"You have to create a polygon.\");\n      return;\n    }\n    const pointsSorted = [...polygon.points];\n    const points = [...polygon.points];\n    // Sort points lexicographically (primary top to down, secondary left to right)\n    pointsSorted.sort((a, b) => {\n      if (Number(a.getAttribute(\"cy\")) > Number(b.getAttribute(\"cy\"))) {\n        return -1;\n      } else if (Number(a.getAttribute(\"cy\")) === Number(b.getAttribute(\"cy\"))) {\n        if (Number(a.getAttribute(\"cx\")) < Number(b.getAttribute(\"cx\"))) {\n          return -1;\n        } else {\n          return 1;\n        }\n      } else {\n        return 1;\n      }\n    });\n    pointsSorted[0].style.fill = \"green\";\n    pointsSorted[pointsSorted.length - 1].style.fill = \"red\";\n\n    // Split points based on which line they lay\n    const firstIndex = (points.indexOf(pointsSorted[0]) + 1) % points.length;\n\n    let i = points.length - 1;\n    let currentIndex = firstIndex;\n    let firstPath = [];\n    let secondPath = [];\n    let currentPath;\n    let otherPath;\n    let currentColor;\n    let otherColor;\n\n    // Make sure first path (yellow one) is always on the left\n\n    // Next point is on the left of the lowest one\n    if (Number(points[firstIndex].getAttribute(\"cx\")) < Number(pointsSorted[0].getAttribute(\"cx\"))) {\n      currentPath = firstPath;\n      otherPath = secondPath;\n      currentColor = \"yellow\";\n      otherColor = \"white\";\n\n      // Next point is on the right of the lowest one\n    } else {\n      currentPath = secondPath;\n      otherPath = firstPath;\n      currentColor = \"white\";\n      otherColor = \"yellow\";\n    }\n\n    while (i > 0) {\n      if (points[currentIndex] == pointsSorted[pointsSorted.length - 1]) {\n        currentPath = otherPath;\n        currentColor = otherColor;\n      } else {\n        points[currentIndex].style.fill = currentColor;\n        currentPath.push(points[currentIndex]);\n      }\n      currentIndex = (currentIndex + 1) % points.length;\n      i--;\n    }\n\n    // Iterate\n    let stack = [];\n    stack.push(pointsSorted[0]);\n    stack.push(pointsSorted[1]);\n\n    for (let i = 2; i < pointsSorted.length; i++) {\n      // if v_i and the top of the stack lie on the same path (left or right)\n      if (\n        (firstPath.includes(pointsSorted[i]) && firstPath.includes(stack[stack.length - 1])) ||\n        (secondPath.includes(pointsSorted[i]) && secondPath.includes(stack[stack.length - 1]))\n      ) {\n        while (stack.length > 1) {\n          if (\n            (firstPath.includes(pointsSorted[i]) &&\n              Utils.isOnLeft(pointsSorted[i], stack[stack.length - 2], stack[stack.length - 1])) ||\n            (secondPath.includes(pointsSorted[i]) &&\n              !Utils.isOnLeft(pointsSorted[i], stack[stack.length - 2], stack[stack.length - 1]))\n          ) {\n            this.canvas.makeLine(pointsSorted[i], stack[stack.length - 2], \"blue\");\n            stack.pop();\n          } else {\n            break;\n          }\n        }\n        stack.push(pointsSorted[i]);\n      } else {\n        const top = stack[stack.length - 1];\n        while (stack.length > 0) {\n          this.canvas.makeLine(pointsSorted[i], stack.pop(), \"red\");\n        }\n        stack.push(top);\n        stack.push(pointsSorted[i]);\n      }\n      await this.timer(500);\n    }\n\n    return;\n  }\n\n  public Delaunay(voronoi: boolean = false): Edge[][] {\n    const triangulationEdges: Edge[] = [];\n    let triangles: Edge[][] = [];\n    const ael = new AEL(triangulationEdges);\n\n    let points = [...this.canvas.getSimplePoints()];\n\n    if (voronoi) {\n      // Add invisible triangle so voronoi will be nicer\n      let pBottomLeft = new RealPoint(-this.canvas.getCanvas().clientWidth, this.canvas.getCanvas().clientHeight * 2);\n      let pBottomRight = new RealPoint(\n        this.canvas.getCanvas().clientWidth * 2,\n        this.canvas.getCanvas().clientHeight * 2\n      );\n      let pTopCenter = new RealPoint(this.canvas.getCanvas().clientWidth / 2, -this.canvas.getCanvas().clientHeight);\n      points = [...points, pBottomLeft, pBottomRight, pTopCenter];\n    }\n\n    const randomPoint = points[0];\n    const closestPoint = points\n      .slice(1)\n      .map((p: Point) => ({ point: p, distance: Utils.Distance(randomPoint, p) }))\n      .sort(\n        (a: { point: Point; distance: number }, b: { point: Point; distance: number }) => a.distance - b.distance\n      )[0].point;\n\n    let pointsOnLeft = points.filter((p) => Utils.isOnLeftPoints(randomPoint, closestPoint, p));\n    let pointsOnRight = points.filter((p) => Utils.isOnLeftPoints(closestPoint, randomPoint, p));\n    let e: Edge;\n    let e2: Edge;\n    let e3: Edge;\n\n    if (pointsOnLeft.length > 0) {\n      e = new Edge(randomPoint, closestPoint);\n      let p: Point = pointsOnLeft.sort((p1, p2) => this.delaunayDistance(p1, e) - this.delaunayDistance(p2, e))[0];\n      e2 = new Edge(closestPoint, p);\n      e3 = new Edge(p, randomPoint);\n    } else {\n      e = new Edge(closestPoint, randomPoint);\n      let p: Point = pointsOnRight.sort((p1, p2) => this.delaunayDistance(p1, e) - this.delaunayDistance(p2, e))[0];\n      e2 = new Edge(randomPoint, p);\n      e3 = new Edge(p, closestPoint);\n    }\n\n    ael.add(e);\n    ael.add(e2);\n    ael.add(e3);\n    triangles.push([e, e2, e3]);\n\n    while (!ael.isEmpty()) {\n      let e = ael.firstEdge();\n\n      let p1 = e.pointA;\n      let p2 = e.pointB;\n      let reversedE = new Edge(e.pointB, e.pointA);\n      let pointsLeftOfReversedEdge = points.filter((p) => Utils.isOnLeftPoints(p2, p1, p));\n\n      if (pointsLeftOfReversedEdge.length > 0) {\n        let p: Point = pointsLeftOfReversedEdge\n          .filter((p) => this.delaunayDistance(p, reversedE) != null)\n          .sort((p1, p2) => this.delaunayDistance(p1, reversedE) - this.delaunayDistance(p2, reversedE))[0];\n        let e2 = new Edge(p1, p);\n        let e3 = new Edge(p, p2);\n\n        if (\n          ael.edges.filter((e) => e.pointA == e2.pointA && e.pointB == e2.pointB).length == 0 &&\n          ael.edges.filter((e) => e.pointA == e2.pointB && e.pointB == e2.pointA).length == 0 &&\n          ael.dt.filter((e) => e.pointA == e2.pointA && e.pointB == e2.pointB).length == 0 &&\n          ael.dt.filter((e) => e.pointA == e2.pointB && e.pointB == e2.pointA).length == 0\n        ) {\n          ael.add(e2);\n        }\n\n        if (\n          ael.edges.filter((e) => e.pointA == e3.pointA && e.pointB == e3.pointB).length == 0 &&\n          ael.edges.filter((e) => e.pointA == e3.pointB && e.pointB == e3.pointA).length == 0 &&\n          ael.dt.filter((e) => e.pointA == e3.pointA && e.pointB == e3.pointB).length == 0 &&\n          ael.dt.filter((e) => e.pointA == e3.pointB && e.pointB == e3.pointA).length == 0\n        ) {\n          ael.add(e3);\n        }\n        triangles.push([e, e2, e3]);\n      }\n      ael.removeEdge(e);\n    }\n    if (!voronoi) {\n      triangles.forEach((t) => {\n        this.canvas.makeLinePoints(t[0].pointA, t[0].pointB, \"black\");\n        this.canvas.makeLinePoints(t[1].pointA, t[1].pointB, \"black\");\n        this.canvas.makeLinePoints(t[2].pointA, t[2].pointB, \"black\");\n      });\n    }\n\n    return triangles;\n  }\n\n  private delaunayDistance(point: Point, edge: Edge) {\n    let a = edge.pointA;\n    let b = edge.pointB;\n\n    let c = Utils.GetCenterOfPoints(a, b, point);\n\n    // this.canvas.addPoint(c.x, c.y, \"orange\");\n\n    if (c == null) {\n      return null;\n    }\n\n    let r = Math.sqrt((c.x - point.x) ** 2 + (c.y - point.y) ** 2);\n    // this.canvas.addCircle(c, r, \"orange\");\n\n    // this.canvas.addCircle(c, r);\n\n    if (\n      (Utils.isOnLeftPoints(a, b, c) && Utils.isOnLeftPoints(a, b, point)) ||\n      (!Utils.isOnLeftPoints(a, b, c) && !Utils.isOnLeftPoints(a, b, point))\n    ) {\n      return r;\n    } else {\n      return -r;\n    }\n  }\n\n  private timer(ms) {\n    return new Promise((res) => setTimeout(res, ms));\n  }\n\n  private getRandomColor() {\n    var letters = \"0123456789ABCDEF\";\n    var color = \"#\";\n    for (var i = 0; i < 6; i++) {\n      color += letters[Math.floor(Math.random() * 16)];\n    }\n    return color;\n  }\n}\n\nclass AEL {\n  public edges: Edge[] = [];\n  public constructor(public dt: Edge[]) {}\n\n  public add(edge: Edge) {\n    let a = edge.pointA;\n    let b = edge.pointB;\n\n    if (this.edges.filter((e) => e.pointA == b && e.pointB == a).length > 0) {\n      this.edges = this.edges.filter((e) => e.pointA !== a || e.pointB !== b);\n    } else {\n      this.edges.push(edge);\n    }\n    this.dt.push(edge);\n  }\n\n  public isEmpty() {\n    return this.edges.length == 0;\n  }\n\n  public removeEdge(edge: Edge) {\n    this.edges = this.edges.filter((e) => e.pointA !== edge.pointA || e.pointB !== edge.pointB);\n  }\n\n  public firstEdge() {\n    return this.edges[0];\n  }\n}\n","import { SvgCircle, Point } from \"./Canvas\";\nimport { Circle } from \"./Circle\";\nimport { RealPoint } from \"./RealPoint\";\n\nexport class Utils {\n  /**\n   * Check if pointC is on left side of line going from pointA to pointB\n   * @param pointA First point\n   * @param pointB Second point\n   * @param pointC Point that we are checking if is on left\n   */\n  public static isOnLeft(pointA: SvgCircle, pointB: SvgCircle, pointC: SvgCircle): boolean {\n    const d =\n      (Number(pointC.getAttribute(\"cx\")) - Number(pointA.getAttribute(\"cx\"))) *\n        (Number(pointB.getAttribute(\"cy\")) - Number(pointA.getAttribute(\"cy\"))) -\n      (Number(pointC.getAttribute(\"cy\")) - Number(pointA.getAttribute(\"cy\"))) *\n        (Number(pointB.getAttribute(\"cx\")) - Number(pointA.getAttribute(\"cx\")));\n\n    return d < 0;\n  }\n\n  /**\n   * Check if pointC is on left side of line going from pointA to pointB\n   * @param pointA First point\n   * @param pointB Second point\n   * @param pointC Point that we are checking if is on left\n   */\n  public static isOnLeftPoints(pointA: Point, pointB: Point, pointC: Point): boolean {\n    const d = (pointC.x - pointA.x) * (pointB.y - pointA.y) - (pointC.y - pointA.y) * (pointB.x - pointA.x);\n    return d > 0;\n  }\n\n  /**\n   * Calculates squared distance of two points\n   * @param point1\n   * @param point2\n   */\n  public static DistanceSq(point1: Point, point2: Point): number {\n    return Math.pow(point1.x - point2.x, 2) + Math.pow(point1.y - point2.y, 2);\n  }\n\n  /**\n   * Calculates distance of two points\n   * @param point1\n   * @param point2\n   */\n  public static Distance(point1: Point, point2: Point): number {\n    return Math.sqrt(Utils.DistanceSq(point1, point2));\n  }\n\n  /**\n   * Creates circle where 3 given points are lying on the circle\n   * @param point1\n   * @param point2\n   * @param point3\n   */\n  public static CreateCircleFromPoints(p1: Point, p2: Point, p3: Point) {\n    let center = Utils.GetCenterOfPoints(p1, p2, p3);\n    let r = Math.sqrt(Utils.DistanceSq(center, p1));\n    let c = new Circle(center, r);\n    return c;\n  }\n\n  /**\n   * Get center of three non-colinear points\n   * @param p1\n   * @param p2\n   * @param p3\n   */\n  public static GetCenterOfPoints(p1: Point, p2: Point, p3: Point) {\n    let cp = this.crossProduct(p1, p2, p3);\n    if (cp !== 0) {\n      let p1Sq = Math.pow(p1.x, 2) + Math.pow(p1.y, 2);\n      let p2Sq = Math.pow(p2.x, 2) + Math.pow(p2.y, 2);\n      let p3Sq = Math.pow(p3.x, 2) + Math.pow(p3.y, 2);\n      let num = p1Sq * (p2.y - p3.y) + p2Sq * (p3.y - p1.y) + p3Sq * (p1.y - p2.y);\n      let cx = num / (2.0 * cp);\n      num = p1Sq * (p3.x - p2.x) + p2Sq * (p1.x - p3.x) + p3Sq * (p2.x - p1.x);\n      let cy = num / (2.0 * cp);\n      let center = new RealPoint(cx, cy, \"black\");\n      return center;\n    } else {\n      return null;\n    }\n  }\n\n  /**\n   * Create crossproduct of three vertices\n   * @param p1\n   * @param p2\n   * @param p3\n   */\n  private static crossProduct(p1: Point, p2: Point, p3: Point) {\n    let u1 = p2.x - p1.x;\n    let v1 = p2.y - p1.y;\n    let u2 = p3.x - p1.x;\n    let v2 = p3.y - p1.y;\n    return u1 * v2 - v1 * u2;\n  }\n}\n","import { Point } from \"./Canvas\";\nimport { Utils } from \"./Utils\";\n\nexport class Circle {\n  public constructor(private center: Point, private radius: number) {}\n\n  public isInside(point: Point) {\n    if (Utils.DistanceSq(this.center, point) < Math.pow(this.radius, 2)) {\n      return true;\n    }\n    return false;\n  }\n}\n","export interface Point {\n  x: number;\n  y: number;\n  color: string;\n}\n\nexport type SvgInHtml = HTMLElement & SVGElement;\nexport type SvgCircle = HTMLElement & SVGCircleElement;\nexport type SvgLine = HTMLElement & SVGLineElement;\n\nexport const SVG_NAMESPACE = \"http://www.w3.org/2000/svg\";\n\nexport interface Polygon {\n  points: SvgCircle[];\n  lines: SvgLine[];\n}\n\nexport class Canvas {\n  private points: SvgCircle[] = [];\n  private canvas: SvgInHtml;\n  private draggingObject: SvgCircle;\n  private dragging = false;\n  private polygon: Polygon = { points: [], lines: [] };\n  private creatingPolygon = false;\n\n  constructor(canvasId: string) {\n    this.canvas = <SvgInHtml>document.getElementById(canvasId);\n    this.canvas.addEventListener(\"mousemove\", this.drag.bind(this));\n    this.canvas.addEventListener(\"mouseup\", this.endDrag.bind(this));\n    this.canvas.addEventListener(\"mouseleave\", this.endDrag.bind(this));\n    this.canvas.addEventListener(\"dblclick\", this.addPointOnClick.bind(this));\n    this.canvas.addEventListener(\"click\", this.addPolygonPoint.bind(this));\n    // Test points\n    // this.addPoint(180, 142, \"black\");\n    // this.addPoint(101, 262, \"black\");\n    // this.addPoint(288, 191, \"black\");\n    // this.addPoint(464, 105, \"black\");\n    // this.addPoint(571, 217, \"black\");\n    // this.addPoint(498, 296, \"black\");\n    // this.addPoint(294, 107, \"black\");\n  }\n\n  /**\n   * Returns points in canvas\n   */\n  public getPoints(): SvgCircle[] {\n    return this.points;\n  }\n\n  /**\n   * Returns svg canvas\n   */\n  public getCanvas(): SvgInHtml {\n    return this.canvas;\n  }\n\n  /**\n   * Adds point to canvas\n   * @param x x coordinate\n   * @param y y coordinate\n   * @param color color of point\n   */\n  public addPoint(x: number, y: number, color?: string): SvgCircle {\n    console.log(`this.addPoint(${x}, ${y}, \"black\")`);\n    const circle: SvgCircle = <SvgCircle>document.createElementNS(SVG_NAMESPACE, \"circle\");\n    circle.setAttributeNS(null, \"cx\", x.toString());\n    circle.setAttributeNS(null, \"cy\", y.toString());\n    circle.setAttributeNS(null, \"r\", \"3\");\n    circle.setAttributeNS(\n      null,\n      \"style\",\n      `fill: ${color || \"black\"}; stroke: ${color || \"black\"}; stroke-width: 1px; cursor: move;`\n    );\n    circle.addEventListener(\"mousedown\", this.startDrag.bind(this));\n\n    this.points.push(circle);\n    this.canvas.appendChild(circle);\n    return circle;\n  }\n\n  /**\n   * Adds point on click\n   * @param event click event\n   */\n  private addPointOnClick(event: MouseEvent): SvgCircle {\n    return this.addPoint(event.offsetX, event.offsetY);\n  }\n\n  /**\n   * Sets background color of canvas\n   * @param color\n   */\n  public setBackgroundColor(color: string) {\n    this.canvas.style.backgroundColor = color;\n  }\n\n  /**\n   * Starts dragging point on click\n   * @param event mousedown event\n   */\n  private startDrag(event: MouseEvent) {\n    this.draggingObject = <SvgCircle>event.target;\n    this.draggingObject.style.fill = \"red\";\n    this.dragging = true;\n  }\n\n  /**\n   * Drags element while mouse is clicked\n   * @param event mousemove event\n   */\n  private drag(event: MouseEvent) {\n    if (this.dragging && this.draggingObject) {\n      this.draggingObject.setAttributeNS(null, \"cx\", event.offsetX.toString());\n      this.draggingObject.setAttributeNS(null, \"cy\", event.offsetY.toString());\n    }\n  }\n\n  /**\n   * Stops dragging element\n   * @param event mouseup event\n   */\n  private endDrag(_: MouseEvent) {\n    if (this.dragging) {\n      this.dragging = false;\n      this.draggingObject.style.fill = \"black\";\n      this.draggingObject = null;\n    }\n  }\n\n  /**\n   * Remove all lines from canvas\n   */\n  public removeLines() {\n    let currentLines = this.canvas.getElementsByClassName(\"line\");\n    let currentLinesArray = Array.from(currentLines);\n    currentLinesArray.forEach((line) => line.remove());\n  }\n\n  /**\n   * Remove all points from canvas\n   */\n  public removePoints() {\n    this.points.forEach((p) => p.remove());\n    this.points = [];\n  }\n\n  /**\n   * Remove lines and points from canvas\n   */\n  public clearCanvas() {\n    this.removeLines();\n    this.removePoints();\n    this.polygon = { points: [], lines: [] };\n  }\n\n  /**\n   * Adds polygon point\n   * @param event\n   */\n  private addPolygonPoint(event: MouseEvent) {\n    if (this.creatingPolygon) {\n      const point = this.addPointOnClick(event);\n      this.polygon.points.push(point);\n\n      if (this.polygon.points.length > 1) {\n        const secondLastPoint = this.polygon.points[this.polygon.points.length - 2];\n        const line = this.makeLine(point, secondLastPoint);\n        this.polygon.lines.push(line);\n      }\n\n      if (this.polygon.points.length > 2) {\n        if (this.polygon.points.length > 3) {\n          this.polygon.lines.splice(this.polygon.lines.length - 2, 1)[0].remove();\n        }\n        const firstPoint = this.polygon.points[0];\n        const line = this.makeLine(firstPoint, point);\n        this.polygon.lines.push(line);\n      }\n    }\n  }\n\n  /**\n   * Add line going from first to second point on canvas\n   * @param pointA first point\n   * @param pointB second point\n   */\n  public makeLine(pointA: SvgCircle, pointB: SvgCircle, color?: string, id?: string): SvgLine {\n    let newLine: SvgLine = <SvgLine>document.createElementNS(\"http://www.w3.org/2000/svg\", \"line\");\n    if (id) {\n      newLine.setAttribute(\"id\", id);\n    }\n    newLine.setAttribute(\"class\", \"line\");\n    newLine.setAttribute(\"x1\", pointA.getAttribute(\"cx\"));\n    newLine.setAttribute(\"y1\", pointA.getAttribute(\"cy\"));\n    newLine.setAttribute(\"x2\", pointB.getAttribute(\"cx\"));\n    newLine.setAttribute(\"y2\", pointB.getAttribute(\"cy\"));\n    newLine.setAttribute(\"stroke\", color || \"black\");\n    const canvas = this.canvas;\n    const line = canvas.appendChild(newLine);\n    return line;\n  }\n\n  /**\n   * Add line going from first to second point on canvas\n   * @param pointA first point\n   * @param pointB second point\n   */\n  public makeLinePoints(pointA: Point, pointB: Point, color?: string, id?: string): SvgLine {\n    let newLine: SvgLine = <SvgLine>document.createElementNS(\"http://www.w3.org/2000/svg\", \"line\");\n    if (id) {\n      newLine.setAttribute(\"id\", id);\n    }\n    newLine.setAttribute(\"class\", \"line\");\n    newLine.setAttribute(\"x1\", pointA.x.toString());\n    newLine.setAttribute(\"y1\", pointA.y.toString());\n    newLine.setAttribute(\"x2\", pointB.x.toString());\n    newLine.setAttribute(\"y2\", pointB.y.toString());\n    newLine.setAttribute(\"stroke\", color || \"black\");\n    const canvas = this.canvas;\n    const line = canvas.appendChild(newLine);\n    return line;\n  }\n\n  /**\n   * Returns polygon that is on plane\n   */\n  public getPolygon(): Polygon {\n    return this.polygon;\n  }\n\n  public startCreatingPolygon(): void {\n    this.clearCanvas();\n    this.creatingPolygon = true;\n  }\n\n  public stopCreatingPolygon(): void {\n    this.creatingPolygon = false;\n  }\n\n  /**\n   * Adds n points at random locations\n   * @param n number of points to add\n   */\n  public addRandomPoints(n: number) {\n    for (let i = 0; i < n; i++) {\n      // 50 is padding around edge where we dont want to add points\n      let x = Math.random() * (this.canvas.clientWidth - 50 - 50) + 50;\n      let y = Math.random() * (this.canvas.clientHeight - 50 - 50) + 50;\n      this.addPoint(x, y);\n    }\n  }\n\n  /**\n   * Gets points of canvas in simple format\n   */\n  public getSimplePoints(): Point[] {\n    const simplePoints = this.points.map((point: SvgCircle) => ({\n      x: Number(point.getAttribute(\"cx\")),\n      y: Number(point.getAttribute(\"cy\")),\n      color: \"black\",\n    }));\n\n    return simplePoints;\n  }\n\n  /**\n   * Adds circle with with center and given perimeter\n   * @param center\n   * @param r\n   * @param color\n   */\n  public addCircle(center: Point, r: number, color: string = \"black\") {\n    const circle: SvgCircle = <SvgCircle>document.createElementNS(SVG_NAMESPACE, \"circle\");\n    circle.setAttributeNS(null, \"cx\", center.x.toString());\n    circle.setAttributeNS(null, \"cy\", center.y.toString());\n    circle.setAttributeNS(null, \"r\", r.toString());\n    circle.setAttributeNS(null, \"style\", `fill: none; stroke: ${color}; stroke-width: 1px; cursor: move;`);\n    this.canvas.appendChild(circle);\n    return circle;\n  }\n}\n","import { Point } from \"./Canvas\";\n\nexport class RealPoint implements Point {\n  public constructor(public x: number, public y: number, public color: string = \"black\") {}\n}\n","import { SvgCircle, SvgInHtml, Canvas, SVG_NAMESPACE } from \"./Canvas\";\nimport { Utils } from \"./Utils\";\n\nexport class ConvexHull {\n  canvas: Canvas;\n\n  constructor(canvas: Canvas) {\n    this.canvas = canvas;\n  }\n\n  /**\n   * Creates convex hull using Jarvis March algorithm\n   * @param points array of points\n   */\n  public async JarvisMarch(): Promise<SvgCircle[]> {\n    this.canvas.removeLines();\n    const points = this.canvas.getPoints();\n    this.colorPointsBlack(points);\n    const convexHull: SvgCircle[] = [];\n    let leftmostPoint: SvgCircle = points[0];\n\n    // Find the leftmost point\n    points.slice(1).forEach((p: SvgCircle) => {\n      if (Number(p.getAttribute(\"cx\")) < Number(leftmostPoint.getAttribute(\"cx\"))) {\n        leftmostPoint = p;\n      }\n    });\n\n    let pointOnHull: SvgCircle = leftmostPoint;\n    let endpoint: SvgCircle;\n    let i = 0;\n    do {\n      pointOnHull.style.fill = \"red\";\n      convexHull.push(pointOnHull);\n      endpoint = points[0];\n      let currentLine: SVGLineElement;\n\n      for (let j = 0; j < points.length; j++) {\n        currentLine = this.canvas.makeLine(points[j], pointOnHull, \"green\");\n        if (this.isPointEqual(endpoint, pointOnHull) || Utils.isOnLeft(pointOnHull, endpoint, points[j])) {\n          endpoint = points[j];\n        }\n        await this.timer(5);\n        currentLine?.remove();\n      }\n      if (endpoint) {\n        this.canvas.makeLine(endpoint, pointOnHull, \"red\");\n        endpoint.style.fill = \"red\";\n      }\n      pointOnHull = endpoint;\n      i++;\n    } while (!this.isPointEqual(endpoint, convexHull[0]) && i < 50);\n    return new Promise((res) => res(convexHull));\n  }\n\n  /**\n   * Colors are points with black color\n   * @param points list of points\n   */\n  colorPointsBlack(points: SvgCircle[]): void {\n    points.forEach((point) => (point.style.fill = \"black\"));\n  }\n\n  /**\n   * Creates convex hull using Graham Scan algorithm\n   * @param points array of points\n   */\n  public async GrahamScan(): Promise<SvgCircle[]> {\n    this.canvas.removeLines();\n    const points = this.canvas.getPoints();\n    this.colorPointsBlack(points);\n    let stack: SvgCircle[] = [];\n\n    // Find the leftmost point\n    let leftmostPoint: SvgCircle = points\n      .sort((p1, p2) => Number(p1.getAttribute(\"cy\")) - Number(p2.getAttribute(\"cy\")))\n      .sort((p1, p2) => Number(p1.getAttribute(\"cx\")) - Number(p2.getAttribute(\"cx\")))[0];\n\n    // Sort points by the angle they and leftmost point make with x-axis\n    points.sort((a, b) => (Utils.isOnLeft(leftmostPoint, a, b) ? -1 : 1));\n\n    let lines: SVGLineElement[] = [];\n\n    for (let i = 0; i < points.length; i++) {\n      let point = points[i];\n\n      while (stack.length > 1 && Utils.isOnLeft(stack[stack.length - 2], point, stack[stack.length - 1])) {\n        stack.pop().style.fill = \"black\";\n        lines.pop().remove();\n      }\n\n      if (stack.length >= 1) {\n        lines.push(this.canvas.makeLine(stack[stack.length - 1], point, \"red\"));\n      }\n\n      stack.push(point);\n      point.style.fill = \"red\";\n      await this.timer(200);\n    }\n\n    // this.makeLine(stack[0], stack[stack.length - 1], \"red\");\n    lines.push(this.canvas.makeLine(stack[stack.length - 1], stack[0], \"red\"));\n\n    return new Promise((res) => res(stack));\n  }\n\n  /**\n   * Detects if points are equal. Points are equal if their coordinates are equal\n   * @param pointA first point\n   * @param pointB second point\n   */\n  private isPointEqual(pointA: SvgCircle, pointB: SvgCircle) {\n    if (\n      Number(pointA.getAttribute(\"cx\")) === Number(pointB.getAttribute(\"cx\")) &&\n      Number(pointA.getAttribute(\"cy\")) === Number(pointB.getAttribute(\"cy\"))\n    ) {\n      return true;\n    }\n    return false;\n  }\n\n  private timer(ms) {\n    return new Promise((res) => setTimeout(res, ms));\n  }\n}\n","import { Point } from \"./Canvas\";\n\nexport class Edge {\n  constructor(public pointA: Point, public pointB: Point) {}\n}\n","import { Canvas, Point } from \"./Canvas\";\n\nexport class KDTree {\n  canvas: Canvas;\n\n  constructor(canvas: Canvas) {\n    this.canvas = canvas;\n  }\n\n  public buildKDTree(\n    points: Point[],\n    depth: number,\n    leftX: number = 0,\n    rightX: number = Number(this.canvas.getCanvas().clientWidth),\n    topY: number = 0,\n    bottomY: number = Number(this.canvas.getCanvas().clientHeight)\n  ): KDNode {\n    if (points.length == 1) {\n      return new KDNode(2, 1, points[0], null, null, null);\n    }\n    let p1: Point[];\n    let p2: Point[];\n    let medianPoint: Point;\n    let v_left: KDNode;\n    let v_right: KDNode;\n    if (!(depth % 2)) {\n      // Vertical\n      const sortedPointsByX = this.sortPoints(points, \"x\");\n      medianPoint = this.selectMedianPoint(sortedPointsByX);\n      this.drawLine(bottomY, topY, medianPoint.x, \"x\");\n      [p1, p2] = this.splitByMedianPoint(sortedPointsByX);\n      v_left = this.buildKDTree(p1, depth + 1, leftX, medianPoint.x, topY, bottomY);\n      v_right = this.buildKDTree(p2, depth + 1, medianPoint.x, rightX, topY, bottomY);\n    } else {\n      // Horizontal\n      const sortedPointsByY = this.sortPoints(points, \"y\");\n      medianPoint = this.selectMedianPoint(sortedPointsByY);\n      this.drawLine(leftX, rightX, medianPoint.y, \"y\");\n      [p1, p2] = this.splitByMedianPoint(sortedPointsByY);\n      v_left = this.buildKDTree(p1, depth + 1, leftX, rightX, topY, medianPoint.y);\n      v_right = this.buildKDTree(p2, depth + 1, leftX, rightX, medianPoint.y, bottomY);\n    }\n\n    const newNode = new KDNode(2, depth, medianPoint, null, v_left, v_right);\n\n    v_left.setParent(newNode);\n    v_right.setParent(newNode);\n\n    return newNode;\n  }\n\n  private sortPoints(points: Point[], axis: \"x\" | \"y\") {\n    const sortedPoints = points.sort((a: Point, b: Point) => {\n      if (axis == \"x\") {\n        return a.x - b.x;\n      } else if (axis == \"y\") {\n        return a.y - b.y;\n      }\n    });\n    return sortedPoints;\n  }\n\n  private splitByMedianPoint(points: Point[]): [Point[], Point[]] {\n    const firstHalf = points.slice(0, Math.floor(points.length / 2));\n    const secondHalf = points.slice(Math.floor(points.length / 2));\n    return [firstHalf, secondHalf];\n  }\n\n  private selectMedianPoint(points: Point[]): Point {\n    return points[Math.floor(points.length / 2)];\n  }\n\n  private drawLine(start: number, end: number, coord: number, axis: \"x\" | \"y\") {\n    //   Vertical (red)\n    if (axis == \"x\") {\n      this.canvas.makeLinePoints({ x: coord, y: start, color: \"\" }, { x: coord, y: end, color: \"\" }, \"red\");\n      //   Horizontal (blue)\n    } else {\n      this.canvas.makeLinePoints({ x: start, y: coord, color: \"\" }, { x: end, y: coord, color: \"\" }, \"blue\");\n    }\n  }\n}\n\nexport class KDNode {\n  private k: number;\n  private depth: number;\n  private point: Point;\n  private parent: KDNode;\n  private lesser: KDNode;\n  private greater: KDNode;\n\n  public constructor(k: number, depth: number, point: Point, parent: KDNode, lesser: KDNode, greater: KDNode) {\n    this.k = k;\n    this.depth = depth;\n    this.point = point;\n    this.parent = parent;\n    this.lesser = lesser;\n    this.greater = greater;\n  }\n\n  public setParent(p: KDNode) {\n    this.parent = p;\n  }\n}\n","import { Canvas, Point } from \"./Canvas\";\nimport { Edge } from \"./Edge\";\nimport { RealPoint } from \"./RealPoint\";\nimport { Triangulation } from \"./Triangulation\";\nimport { Utils } from \"./Utils\";\n\nexport class Voronoi {\n  private canvas: Canvas;\n  private triangles: Edge[][];\n  private centres: Point;\n\n  public constructor(canvas: Canvas) {\n    this.canvas = canvas;\n    this.triangles = new Triangulation(canvas).Delaunay(true);\n\n    let trianglesWithcentres = this.triangles.map((t) => {\n      return { edges: [...t], center: Utils.GetCenterOfPoints(t[0].pointA, t[0].pointB, t[1].pointB) };\n    });\n\n    trianglesWithcentres.forEach((p) => {\n      this.canvas.addPoint(p.center.x, p.center.y, \"red\");\n    });\n\n    trianglesWithcentres.forEach((t1) => {\n      trianglesWithcentres.forEach((t2) => {\n        if (this.areAdjacent(t1.edges, t2.edges)) {\n          this.canvas.makeLinePoints(t1.center, t2.center, \"red\");\n        }\n      });\n    });\n  }\n\n  private areAdjacent(t1: Edge[], t2: Edge[]) {\n    let are = false;\n    t1.forEach((edge) => {\n      if (are) {\n        return;\n      }\n      t2.forEach((edge2) => {\n        if (\n          (edge.pointA == edge2.pointA && edge.pointB == edge2.pointB) ||\n          (edge.pointB == edge2.pointA && edge.pointA == edge2.pointB)\n        ) {\n          are = true;\n          return;\n        }\n      });\n    });\n    return are;\n  }\n\n  public createVoronoiDiagram() {}\n}\n","import { Canvas } from \"./Canvas\";\nimport { ConvexHull } from \"./ConvexHull\";\nimport { Triangulation } from \"./Triangulation\";\nimport { KDTree } from \"./KDTree\";\nimport { Voronoi } from \"./Voronoi\";\nconst svgLibrary = { Canvas, ConvexHull, Triangulation, KDTree, Voronoi };\nexport default svgLibrary;\n"],"names":["Math","floor","sqrt","pow","canvasId","points","lines","canvas","document","getElementById","addEventListener","drag","bind","endDrag","addPointOnClick","addPolygonPoint","Canvas","x","y","color","console","log","circle","createElementNS","setAttributeNS","toString","startDrag","push","appendChild","event","addPoint","offsetX","offsetY","style","backgroundColor","draggingObject","target","fill","dragging","currentLines","getElementsByClassName","currentLinesArray","Array","from","forEach","line","remove","p","removeLines","removePoints","polygon","creatingPolygon","point","length","secondLastPoint","makeLine","splice","firstPoint","pointA","pointB","id","newLine","setAttribute","getAttribute","clearCanvas","n","i","random","clientWidth","clientHeight","simplePoints","map","center","r","radius","Circle","Utils","DistanceSq","pointC","d","point1","point2","p1","p2","p3","GetCenterOfPoints","c","cp","crossProduct","p1Sq","p2Sq","p3Sq","num","cx","cy","RealPoint","u1","v1","u2","v2","ConvexHull","Promise","getPoints","colorPointsBlack","convexHull","leftmostPoint","slice","pointOnHull","endpoint","currentLine","j","isPointEqual","isOnLeft","timer","_a","res","stack","sort","a","b","pop","ms","setTimeout","Triangulation","getPolygon","alert","pointsSorted","firstIndex","indexOf","currentIndex","firstPath","secondPath","currentPath","otherPath","currentColor","otherColor","i_1","includes","top","voronoi","triangles","ael","AEL","getSimplePoints","pBottomLeft","getCanvas","pBottomRight","pTopCenter","e","e2","e3","randomPoint","closestPoint","distance","Distance","pointsOnLeft","filter","isOnLeftPoints","pointsOnRight","Edge","_this","delaunayDistance","add","e_1","firstEdge","reversedE","pointsLeftOfReversedEdge","e2_1","e3_1","edges","dt","removeEdge","isEmpty","t","makeLinePoints","edge","KDTree","depth","leftX","rightX","topY","bottomY","KDNode","medianPoint","v_left","v_right","sortedPointsByX","sortPoints","selectMedianPoint","drawLine","splitByMedianPoint","buildKDTree","sortedPointsByY","_b","newNode","setParent","axis","sortedPoints","firstHalf","secondHalf","start","end","coord","k","parent","lesser","greater","Delaunay","trianglesWithcentres","t1","t2","areAdjacent","Voronoi","are","edge2"],"mappings":"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"}