var svgLibrary=function(){'use strict';var a=function(){function a(a){this.points=[],this.dragging=!1,this.canvas=document.getElementById(a),this.canvas.addEventListener("mousemove",this.drag.bind(this)),this.canvas.addEventListener("mouseup",this.endDrag.bind(this)),this.canvas.addEventListener("mouseleave",this.endDrag.bind(this)),this.canvas.addEventListener("dblclick",this.addPointOnClick.bind(this))}return a.prototype.getPoints=function(){return this.points},a.prototype.getCanvas=function(){return this.canvas},a.prototype.addPoint=function(a,b,c){var d=document.createElementNS("http://www.w3.org/2000/svg","circle");d.setAttributeNS(null,"cx",a.toString()),d.setAttributeNS(null,"cy",b.toString()),d.setAttributeNS(null,"r","3"),d.setAttributeNS(null,"style","fill: "+(c||"black")+"; stroke: "+(c||"black")+"; stroke-width: 1px; cursor: move;"),d.addEventListener("mousedown",this.startDrag.bind(this)),this.points.push(d),this.canvas.appendChild(d)},a.prototype.addPointOnClick=function(a){this.addPoint(a.offsetX,a.offsetY)},a.prototype.setBackgroundColor=function(a){this.canvas.style.backgroundColor=a},a.prototype.startDrag=function(a){this.draggingObject=a.target,this.draggingObject.style.fill="red",this.dragging=!0},a.prototype.drag=function(a){this.dragging&&this.draggingObject&&(this.draggingObject.setAttributeNS(null,"cx",a.offsetX.toString()),this.draggingObject.setAttributeNS(null,"cy",a.offsetY.toString()))},a.prototype.endDrag=function(){this.dragging&&(this.dragging=!1,this.draggingObject.style.fill="black",this.draggingObject=null)},a}(),b=function(){function a(a){this.canvas=a}return a.prototype.createConvexHull=function(){this.removeLines();var a=this.canvas.getPoints();console.log("points",a);var b=[],c=a[0];a.slice(1).forEach(function(a){+a.getAttribute("cx")<+c.getAttribute("cx")&&(c=a)});var d,e=c,f=0;do{b.push(e),d=a[0];for(var g=0;g<a.length;g++)(this.isPointEqual(d,e)||this.isOnLeft(e,d,a[g]))&&(d=a[g]);d&&this.makeLine(d,e),e=d,f++}while(!this.isPointEqual(d,b[0])&&50>f);console.log(b.length)},a.prototype.isOnLeft=function(a,b,c){var e=(+c.getAttribute("cx")-+a.getAttribute("cx"))*(+b.getAttribute("cy")-+a.getAttribute("cy"))-(+c.getAttribute("cy")-+a.getAttribute("cy"))*(+b.getAttribute("cx")-+a.getAttribute("cx"));return 0>e},a.prototype.isPointEqual=function(a,b){return+a.getAttribute("cx")===+b.getAttribute("cx")&&+a.getAttribute("cy")===+b.getAttribute("cy")},a.prototype.removeLines=function(){var a=this.canvas.getCanvas(),b=a.getElementsByClassName("line"),c=Array.from(b);c.forEach(function(a){return a.remove()})},a.prototype.makeLine=function(a,b,c){var d=document.createElementNS("http://www.w3.org/2000/svg","line");c&&d.setAttribute("class","id"),d.setAttribute("class","line"),d.setAttribute("x1",a.getAttribute("cx")),d.setAttribute("y1",a.getAttribute("cy")),d.setAttribute("x2",b.getAttribute("cx")),d.setAttribute("y2",b.getAttribute("cy")),d.setAttribute("stroke","black");var e=this.canvas.getCanvas();e.appendChild(d)},a}();return{Canvas:a,ConvexHull:b}}();
//# sourceMappingURL=svg-library.min.js.map
